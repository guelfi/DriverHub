2025-07-15 00:03:23.679 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - null null
2025-07-15 00:03:23.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - 200 null text/html;charset=utf-8 233.9229ms
2025-07-15 00:03:24.210 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - null null
2025-07-15 00:03:24.437 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 231.4058ms
2025-07-15 00:06:49.673 -03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.role = @__role_0
LIMIT 1
2025-07-15 00:06:49.820 -03:00 [WRN] Nenhum usuário administrador encontrado. Por favor, crie o primeiro usuário administrador.
2025-07-15 00:06:49.840 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 00:06:49.920 -03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://0.0.0.0:5217: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-15 00:09:13.711 -03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__role_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.role = @__role_0
LIMIT 1
2025-07-15 00:09:13.862 -03:00 [WRN] Nenhum usuário administrador encontrado. Por favor, crie o primeiro usuário administrador.
2025-07-15 00:09:13.880 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 00:09:13.970 -03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://0.0.0.0:5217: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-15 00:11:03.493 -03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.role = @__role_0
LIMIT 1
2025-07-15 00:11:03.699 -03:00 [WRN] Nenhum usuário administrador encontrado. Por favor, crie o primeiro usuário administrador.
2025-07-15 00:11:03.732 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 00:11:03.883 -03:00 [INF] Now listening on: http://0.0.0.0:5217
2025-07-15 00:11:03.884 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-15 00:11:03.886 -03:00 [INF] Hosting environment: Development
2025-07-15 00:11:03.886 -03:00 [INF] Content root path: /Users/guelfi/Projetos/DriverHub/src/DriverHub.API
2025-07-15 00:17:23.249 -03:00 [INF] Application is shutting down...
2025-07-15 01:31:40.019 -03:00 [INF] Executed DbCommand (219ms) [Parameters=[@__role_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.role = @__role_0
LIMIT 1
2025-07-15 01:31:40.496 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 01:31:41.011 -03:00 [INF] Now listening on: http://0.0.0.0:5217
2025-07-15 01:31:41.019 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-15 01:31:41.021 -03:00 [INF] Hosting environment: Development
2025-07-15 01:31:41.021 -03:00 [INF] Content root path: /Users/guelfi/Projetos/DriverHub/src/DriverHub.API
2025-07-15 01:36:06.275 -03:00 [INF] Request starting HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/login - application/json 64
2025-07-15 01:36:06.337 -03:00 [WRN] Failed to determine the https port for redirect.
2025-07-15 01:36:06.611 -03:00 [INF] Executing endpoint 'DriverHub.API.Controllers.AuthController.Login (DriverHub.API)'
2025-07-15 01:36:06.641 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(DriverHub.API.Models.DTOs.LoginRequest) on controller DriverHub.API.Controllers.AuthController (DriverHub.API).
2025-07-15 01:36:06.862 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.email = @__email_0
LIMIT 1
2025-07-15 01:36:06.935 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.email = @__email_0
LIMIT 1
2025-07-15 01:36:06.946 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-15 01:36:06.983 -03:00 [INF] Executed action DriverHub.API.Controllers.AuthController.Login (DriverHub.API) in 338.0769ms
2025-07-15 01:36:06.986 -03:00 [INF] Executed endpoint 'DriverHub.API.Controllers.AuthController.Login (DriverHub.API)'
2025-07-15 01:36:06.991 -03:00 [INF] HTTP POST /api/Auth/login responded 200 in 655.4353 ms
2025-07-15 01:36:07.009 -03:00 [INF] Request finished HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/login - 200 null application/json; charset=utf-8 735.6874ms
2025-07-15 01:36:14.968 -03:00 [INF] Request starting HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/register - application/json 107
2025-07-15 01:36:14.978 -03:00 [INF] Executing endpoint 'DriverHub.API.Controllers.AuthController.Register (DriverHub.API)'
2025-07-15 01:36:14.988 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(DriverHub.API.Models.DTOs.RegisterRequest) on controller DriverHub.API.Controllers.AuthController (DriverHub.API).
2025-07-15 01:36:15.106 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.email = @__email_0
LIMIT 1
2025-07-15 01:36:15.108 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-07-15 01:36:15.109 -03:00 [INF] Executed action DriverHub.API.Controllers.AuthController.Register (DriverHub.API) in 120.6831ms
2025-07-15 01:36:15.109 -03:00 [INF] Executed endpoint 'DriverHub.API.Controllers.AuthController.Register (DriverHub.API)'
2025-07-15 01:36:15.109 -03:00 [INF] HTTP POST /api/Auth/register responded 400 in 133.6908 ms
2025-07-15 01:36:15.110 -03:00 [INF] Request finished HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/register - 400 null text/plain; charset=utf-8 141.8272ms
2025-07-15 01:36:21.232 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - null null
2025-07-15 01:36:21.319 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - 200 null text/html;charset=utf-8 87.0922ms
2025-07-15 01:36:21.488 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - null null
2025-07-15 01:36:21.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.6146ms
2025-07-15 01:36:26.759 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://192.168.15.119:5217/api/Auth/login - null null
2025-07-15 01:36:26.761 -03:00 [INF] CORS policy execution successful.
2025-07-15 01:36:26.763 -03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 3.4913 ms
2025-07-15 01:36:26.763 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://192.168.15.119:5217/api/Auth/login - 204 null null 4.3779ms
2025-07-15 01:36:26.765 -03:00 [INF] Request starting HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/login - application/json 46
2025-07-15 01:36:26.766 -03:00 [INF] CORS policy execution successful.
2025-07-15 01:36:26.768 -03:00 [INF] Executing endpoint 'DriverHub.API.Controllers.AuthController.Login (DriverHub.API)'
2025-07-15 01:36:26.768 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(DriverHub.API.Models.DTOs.LoginRequest) on controller DriverHub.API.Controllers.AuthController (DriverHub.API).
2025-07-15 01:36:26.774 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.email = @__email_0
LIMIT 1
2025-07-15 01:36:26.797 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.aluguel_semanal_veiculo, m.autonomia_veiculo_km_por_litro, m.data_cadastro, m.dias_trabalhados_por_semana, m.email, m.nome, m.numero_celular, m.role, m.sal, m.senha_hash, m.sobrenome
FROM motoristas AS m
WHERE m.email = @__email_0
LIMIT 1
2025-07-15 01:36:26.798 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-15 01:36:26.799 -03:00 [INF] Executed action DriverHub.API.Controllers.AuthController.Login (DriverHub.API) in 30.3122ms
2025-07-15 01:36:26.799 -03:00 [INF] Executed endpoint 'DriverHub.API.Controllers.AuthController.Login (DriverHub.API)'
2025-07-15 01:36:26.799 -03:00 [INF] HTTP POST /api/Auth/login responded 200 in 33.6252 ms
2025-07-15 01:36:26.801 -03:00 [INF] Request finished HTTP/1.1 POST http://192.168.15.119:5217/api/Auth/login - 200 null application/json; charset=utf-8 34.7357ms
2025-07-15 01:53:15.517 -03:00 [WRN] The foreign key property 'DespesaPessoal.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 01:53:15.616 -03:00 [WRN] The foreign key property 'LancamentoDiario.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 01:53:34.124 -03:00 [WRN] The foreign key property 'DespesaPessoal.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 01:53:34.259 -03:00 [WRN] The foreign key property 'LancamentoDiario.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 01:53:34.704 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2025-07-15 01:53:35.082 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    migration_id character varying(150) NOT NULL,
    product_version character varying(32) NOT NULL,
    CONSTRAINT pk___ef_migrations_history PRIMARY KEY (migration_id)
);
2025-07-15 01:53:35.101 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-15 01:53:35.103 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-15 01:53:35.104 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2025-07-15 01:53:35.128 -03:00 [INF] Applying migration '20250715045316_SeparateAdminEntity'.
2025-07-15 01:53:35.378 -03:00 [INF] Executed DbCommand (202ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas DROP COLUMN role;
2025-07-15 01:53:35.404 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN valor_recebido TYPE numeric;
2025-07-15 01:53:35.408 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN origem TYPE text;
2025-07-15 01:53:35.417 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN lucro TYPE numeric;
2025-07-15 01:53:35.421 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN distancia_km TYPE numeric;
2025-07-15 01:53:35.426 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN destino TYPE text;
2025-07-15 01:53:35.427 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE viagens ALTER COLUMN custo_combustivel TYPE numeric;
2025-07-15 01:53:35.429 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN senha_hash TYPE text;
2025-07-15 01:53:35.433 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN sal TYPE text;
2025-07-15 01:53:35.434 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN numero_celular TYPE text;
2025-07-15 01:53:35.436 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN nome TYPE text;
2025-07-15 01:53:35.440 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN email TYPE text;
2025-07-15 01:53:35.441 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN autonomia_veiculo_km_por_litro TYPE numeric;
2025-07-15 01:53:35.446 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE motoristas ALTER COLUMN aluguel_semanal_veiculo TYPE numeric;
2025-07-15 01:53:35.446 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios ALTER COLUMN valor TYPE numeric;
2025-07-15 01:53:35.447 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios ALTER COLUMN tipo TYPE text;
2025-07-15 01:53:35.448 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios ALTER COLUMN descricao TYPE text;
2025-07-15 01:53:35.495 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios ADD motorista_id1 uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-07-15 01:53:35.496 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais ALTER COLUMN valor TYPE numeric;
2025-07-15 01:53:35.496 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais ALTER COLUMN descricao TYPE text;
2025-07-15 01:53:35.497 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais ALTER COLUMN categoria TYPE text;
2025-07-15 01:53:35.497 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais ADD motorista_id1 uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-07-15 01:53:35.501 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE admins (
    id uuid NOT NULL,
    nome text NOT NULL,
    sobrenome text NOT NULL,
    email text NOT NULL,
    senha_hash text NOT NULL,
    sal text NOT NULL,
    data_cadastro timestamp with time zone NOT NULL,
    CONSTRAINT pk_admins PRIMARY KEY (id)
);
2025-07-15 01:53:35.503 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_lancamentos_diarios_motorista_id1 ON lancamentos_diarios (motorista_id1);
2025-07-15 01:53:35.504 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_despesas_pessoais_motorista_id1 ON despesas_pessoais (motorista_id1);
2025-07-15 01:53:35.505 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX ix_admins_email ON admins (email);
2025-07-15 01:53:35.507 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais ADD CONSTRAINT fk_despesas_pessoais_motoristas_motorista_id1 FOREIGN KEY (motorista_id1) REFERENCES motoristas (id) ON DELETE CASCADE;
2025-07-15 01:53:35.509 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios ADD CONSTRAINT fk_lancamentos_diarios_motoristas_motorista_id1 FOREIGN KEY (motorista_id1) REFERENCES motoristas (id) ON DELETE CASCADE;
2025-07-15 01:53:35.510 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20250715045316_SeparateAdminEntity', '9.0.7');
2025-07-15 10:18:13.146 -03:00 [WRN] The foreign key property 'DespesaPessoal.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 10:18:13.333 -03:00 [WRN] The foreign key property 'LancamentoDiario.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 10:18:14.591 -03:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.data_cadastro, a.email, a.nome, a.sal, a.senha_hash, a.sobrenome
FROM admins AS a
2025-07-15 10:18:14.631 -03:00 [WRN] Nenhum usuário administrador encontrado. Por favor, crie o primeiro usuário administrador.
2025-07-15 10:18:14.707 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 10:18:14.905 -03:00 [INF] Now listening on: http://0.0.0.0:5217
2025-07-15 10:18:14.905 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-15 10:18:14.906 -03:00 [INF] Hosting environment: Development
2025-07-15 10:18:14.906 -03:00 [INF] Content root path: /Users/guelfi/Projetos/DriverHub/src/DriverHub.API
2025-07-15 10:23:35.162 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/index.html - null null
2025-07-15 10:23:35.458 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/index.html - 200 null text/html;charset=utf-8 298.5743ms
2025-07-15 10:23:35.488 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui.css - null null
2025-07-15 10:23:35.491 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui-bundle.js - null null
2025-07-15 10:23:35.491 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui-standalone-preset.js - null null
2025-07-15 10:23:35.666 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-15 10:23:35.667 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-15 10:23:35.667 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-15 10:23:35.671 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 179.7754ms
2025-07-15 10:23:35.671 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui.css - 200 143943 text/css 182.6995ms
2025-07-15 10:23:35.671 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 179.7704ms
2025-07-15 10:23:35.979 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - null null
2025-07-15 10:23:36.129 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.6425ms
2025-07-15 10:23:59.853 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/index.html - null null
2025-07-15 10:23:59.854 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/index.html - 200 null text/html;charset=utf-8 1.3513ms
2025-07-15 10:23:59.895 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui.css - null null
2025-07-15 10:23:59.896 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui-bundle.js - null null
2025-07-15 10:23:59.898 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-15 10:23:59.899 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui.css - 200 143943 text/css 2.9721ms
2025-07-15 10:23:59.904 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui-standalone-preset.js - null null
2025-07-15 10:23:59.909 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-15 10:23:59.910 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 5.4578ms
2025-07-15 10:24:00.083 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-15 10:24:00.086 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 189.804ms
2025-07-15 10:24:00.337 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/v1/swagger.json - null null
2025-07-15 10:24:00.368 -03:00 [INF] Request starting HTTP/1.1 GET http://192.168.15.119:5217/swagger/favicon-32x32.png - null null
2025-07-15 10:24:00.368 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-15 10:24:00.368 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/favicon-32x32.png - 200 628 image/png 0.7308ms
2025-07-15 10:24:00.370 -03:00 [INF] Request finished HTTP/1.1 GET http://192.168.15.119:5217/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.0766ms
2025-07-15 10:29:12.407 -03:00 [WRN] The foreign key property 'DespesaPessoal.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 10:29:12.558 -03:00 [WRN] The foreign key property 'LancamentoDiario.MotoristaId1' was created in shadow state because a conflicting property with the simple name 'MotoristaId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-15 10:29:53.557 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2025-07-15 10:30:27.145 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2025-07-15 10:30:27.753 -03:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    migration_id character varying(150) NOT NULL,
    product_version character varying(32) NOT NULL,
    CONSTRAINT pk___ef_migrations_history PRIMARY KEY (migration_id)
);
2025-07-15 10:30:27.765 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-15 10:30:27.768 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-15 10:30:27.769 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2025-07-15 10:30:27.779 -03:00 [INF] Applying migration '20250715133010_AddLancamentosAndDespesasToMotorista'.
2025-07-15 10:30:28.131 -03:00 [INF] Executed DbCommand (333ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais DROP CONSTRAINT fk_despesas_pessoais_motoristas_motorista_id1;
2025-07-15 10:30:28.134 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios DROP CONSTRAINT fk_lancamentos_diarios_motoristas_motorista_id1;
2025-07-15 10:30:28.136 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX ix_lancamentos_diarios_motorista_id1;
2025-07-15 10:30:28.138 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX ix_despesas_pessoais_motorista_id1;
2025-07-15 10:30:28.202 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lancamentos_diarios DROP COLUMN motorista_id1;
2025-07-15 10:30:28.204 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE despesas_pessoais DROP COLUMN motorista_id1;
2025-07-15 10:30:28.220 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" (migration_id, product_version)
VALUES ('20250715133010_AddLancamentosAndDespesasToMotorista', '9.0.7');
2025-07-15 10:41:42.447 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a.data_cadastro, a.email, a.nome, a.sal, a.senha_hash, a.sobrenome
FROM admins AS a
2025-07-15 10:41:42.729 -03:00 [INF] User profile is available. Using '/Users/guelfi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-15 10:41:42.818 -03:00 [INF] Now listening on: http://0.0.0.0:5217
2025-07-15 10:41:42.821 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-15 10:41:42.822 -03:00 [INF] Hosting environment: Development
2025-07-15 10:41:42.822 -03:00 [INF] Content root path: /Users/guelfi/Projetos/DriverHub/src/DriverHub.API
